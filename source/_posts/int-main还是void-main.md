---
title: int main还是void main
date: 2017-11-05 23:04:03
tags: C语言
keywords: int main,void main
categories: "研究"
---
### 前言
从高一接触C语言开始到现在6年了，只是不停的重复学习基础的考试程序，从来
没有做过一个项目，所有的程序就是一个主函数main和几个被调函数组成。就连
主函数都没加过参数，因为坑爹的教科书也不写。
 <!--more-->
直到大二学习C++才知道原来main前面有参数int,void等,然而我却一直写的是 
void main，再次吐槽教科书坑爹啊，现在才知道int main才是标准的写法。   
于是记录下来我搜集研究的东西。

### 深入研究
main函数，又称主函数,作为绝大多数C程序的唯一入口,是要求有返回值的，返回
给系统才能表明程序的执行状况。返回0表示正常执行成功。返回非0表示异常结束。
因此返回值的类型是int整型。于是有了int main是规范的写法,如果使用void main
没有返回值，那么操作系统不能判断程序状态，对于c程序构成的大型项目来说是致命的。
很多IDE在判断程序为int main时都会默认添加一句return 0;

### 深入一点
在最新的C99标准中只有以下两种方式是正确的:
```
    int main(void){}
    
    int main(int argc,char **argv)
```
### 总结
1. void和int表明声明不同的主函数返回值，不声明默认返回为int整型。
2. int main可移植性强。
3. C语言不要声明为void main,最好声明为int main。
4. 就算是测试小程序，也要摒弃使用void main的习惯，这不是单片机！




