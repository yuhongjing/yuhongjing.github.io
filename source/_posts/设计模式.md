---
title: 设计模式
date: 2017-11-27 22:17:42
tags: 设计模式
keywords: MVC,MVVC,MVP,框架架构
categories: "研究"
---
## 前言
当一个项目的数据特别大时，如果我们还是将数据，页面，和操作混杂在一起使用时。  
就会明显发现逻辑特别的混杂，不方便我们之后的扩展等操作！所以为了理清楚逻辑。
我们需要将数据，页面，操作分开处理！！这也就产生了各种的设计模式。

<!--more-->
## MVC
MVC(Model-View-Controller)是最常见的软件架构之一。非常容易理解，就是分离三个部分。
1.  视图(View):用户界面
2.  控制器(Controller):业务逻辑操作
3.  模型(Model):数据处理

各部分之间的通信方式如下。  
![](https://github.com/yuhongjing/img-folder/raw/master/img/mvc.png)

1. View传送指令到Controller
2. Controller完成业务逻辑后,让Model改变状态
3. Model传回数据到View,用户得到反馈

ps.所有的通信都是单向的。  
ps.Model的操作应该比Controller的重，我曾经就是所有东西都写在控制器中。。。没有理解到Model

优点：分层清晰，便于扩展  
缺点：操作变得复杂，降低了性能
代表框架:Thinkphp
## MVP
MVP(Model-View-Presenter)是从MVC演变而来的，思想差不多。唯一的变化就是View不能直接访问Model！  
View视图需通过Presenter来访问Model。
其实在MVC中，我们也不建议View直接访问Model,最好通过Presenter来访问Model!  

1.  视图(View):用户界面
2.  控制器(Presenter):业务逻辑操作渲染视图
3.  模型(Model):数据处理

各部分之间的通信方式如下。 
![](https://github.com/yuhongjing/img-folder/raw/master/img/mvp.png)  

1. View传送指令到Presenter
2. Presenter处理逻辑调用Model
3. Model处理数据返回Presenter
4. Presenter返回数据到View

ps.所有的通信都是双向的。

优点:模型视图分离，修改视图不影响模型,Presenter可以使用多个视图。  
缺点:视图的渲染都放在了Presenter中，会导致视图和Presenter交互过于频繁。
## MVVM
MVVM(Model-View-ViewModel)与MVP模式完全一致(进化)，将Presenter改名为ViewModel。  
唯一的区别是，它采用双向绑定。  
View的变动，都会使ViewModel改变，反之亦然。

![](https://github.com/yuhongjing/img-folder/raw/master/img/mvvm.png)

优点:简化了业务与页面的依赖关系，优化了数据更新频繁。
代表框架:Vue  Angular 